import{B as b,aD as C,b2 as M,e as $,d as I,r as q,C as V,F as _,aM as m,aH as e,aG as s,u as N,aL as F,aV as U,b3 as D,b4 as P,b5 as z,aW as R,b6 as W,b7 as E}from"./arco.ea015dc6.js";import{_ as h,u as G,a as H,I as Q,b as T}from"./index.270778e3.js";/* empty css              */import{f as j,g as A}from"./vue.198ed283.js";import"./chart.1c717195.js";const J={};function K(u,o){const a=M;return b(),C(a,{class:"footer"})}const O=h(J,[["render",K],["__scopeId","data-v-620768c0"]]);function X(u=!1){const o=$(u);return{loading:o,setLoading:d=>{o.value=d},toggle:()=>{o.value=!o.value}}}const Y={class:"login-form-wrapper"},Z={class:"login-form-title"},ee={class:"login-form-error-msg"},oe=I({__name:"login-form",setup(u){const o=j(),{t:a}=G(),p=$(""),{loading:d,setLoading:w}=X(),B=H(),r=A("login-config",{rememberPassword:!0,username:"admin",password:"admin"}),l=q({username:r.value.username,password:r.value.password}),L=async({errors:t,values:n})=>{if(!d.value&&!t){w(!0);try{await B.login(n);const{redirect:c,...g}=o.currentRoute.value.query;o.push({name:c||"Workplace",query:{...g}}),U.success(a("login.form.login.success"));const{rememberPassword:i}=r.value,{username:f,password:v}=n;r.value.username=i?f:"",r.value.password=i?v:""}catch(c){p.value=c.message}finally{w(!1)}}};return(t,n)=>{const c=Q,g=D,i=P,f=T,v=z,x=R,S=W,k=E;return b(),V("div",Y,[_("div",Z,m(t.$t("login.form.title")),1),_("div",ee,m(p.value),1),e(k,{ref:"loginForm",model:l,class:"login-form",layout:"vertical",onSubmit:L},{default:s(()=>[e(i,{field:"username",rules:[{required:!0,message:t.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[e(g,{modelValue:l.username,"onUpdate:modelValue":n[0]||(n[0]=y=>l.username=y),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},{prefix:s(()=>[e(c)]),_:1},8,["modelValue"])]),_:1},8,["rules"]),e(i,{field:"password",rules:[{required:!0,message:t.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:s(()=>[e(v,{modelValue:l.password,"onUpdate:modelValue":n[1]||(n[1]=y=>l.password=y),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801","allow-clear":""},{prefix:s(()=>[e(f)]),_:1},8,["modelValue"])]),_:1},8,["rules"]),e(S,{size:16,direction:"vertical"},{default:s(()=>[e(x,{class:"login",size:"large",shape:"round",type:"primary","html-type":"submit",long:"",loading:N(d)},{default:s(()=>[F(m(t.$t("login.form.login")),1)]),_:1},8,["loading"]),e(x,{type:"text",long:"",class:"login-form-register-btn"},{default:s(()=>[F(m(t.$t("login.form.register")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}});const se=h(oe,[["__scopeId","data-v-7d1689d7"]]),te={class:"container"},ne={class:"content"},ae={class:"content-inner"},re={class:"footer"},le=I({__name:"index",setup(u){return(o,a)=>(b(),V("div",te,[_("div",ne,[_("div",ae,[e(se)]),_("div",re,[e(O)])])]))}});const me=h(le,[["__scopeId","data-v-b829478c"]]);export{me as default};
